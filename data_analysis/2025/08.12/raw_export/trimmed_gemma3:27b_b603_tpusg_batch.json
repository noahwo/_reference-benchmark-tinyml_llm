{
  "data": [
    {
      "id": "a8387e12",
      "timestamp": "2025-08-05T11:48:59.788000+00:00",
      "name": "a838_tpu_sketch_generator",
      "input": null,
      "output": {
        "status": "failed",
        "last_code": "import numpy as np\nimport cv2\nfrom tflite_runtime.interpreter import Interpreter, load_delegate\n\n# Configuration Parameters\nmodel_path  = \"/home/mendel/tinyml_autopilot/models/edgetpu_detect.tflite\"\nlabel_path  = \"/home/mendel/tinyml_autopilot/models/labelmap.txt\"\ninput_video_path  = \"/home/mendel/tinyml_autopilot/data//sheeps.mp4\"\noutput_video_path  = \"/home/mendel/tinyml_autopilot/results/sheeps_detections.mp4\"\n\n# Load Labels\nwith open(label_path, 'r') as f:\n   labels = [line.strip() for line in f.readlines()]\n\n# Load Interpreter with EdgeTPU\ntry:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('libedgetpu.so.1.0')])\nexcept:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('/usr/lib/aarch64-linux-gnu/libedgetpu.so.1.0')])\n\ninterpreter.allocate_tensors()\n\n# Get Model Details\ninput_details = interpreter.get_input_details()\noutput_details = interpreter.get_output_details()\ninput_shape = input_details[0]['shape']\ninput_data_type = input_details[0]['dtype']\n\n# Video Setup\ncap = cv2.VideoCapture(input_video_path)\nif not cap.isOpened():\n   print(\"Error opening video file\")\n   exit()\n\nframe_width = int(cap.get(3))\nframe_height = int(cap.get(4))\nfourcc = cv2.VideoWriter_fourcc(*'mp4v')\nout = cv2.VideoWriter(output_video_path, fourcc, 20.0, (frame_width, frame_height))\n\n# Inference Loop\nwhile True:\n   ret, frame = cap.read()\n   if not ret:\n       break\n\n   # Preprocessing\n   resized_frame = cv2.resize(frame, (input_shape[1], input_shape[2]))\n   input_data = np.expand_dims(resized_frame, axis=0)\n   if input_data_type == np.float32:\n       input_data = (np.float32(input_data) - 127.5) / 127.5\n\n   # Inference\n   interpreter.set_tensor(input_details[0]['index'], input_data)\n   interpreter.invoke()\n\n   # Post-processing\n   output_data = interpreter.get_tensor(output_details[0]['index'])\n   boxes = output_data[0][0:4]\n   classes = output_data[0][4]\n   scores = output_data[0][5]\n\n   if scores > 0.5:\n       x1 = int(boxes[0] * frame_width)\n       y1 = int(boxes[1] * frame_height)\n       x2 = int(boxes[2] * frame_width)\n       y2 = int(boxes[3] * frame_height)\n       class_id = int(classes)\n       label = labels[class_id]\n       confidence = scores\n       cv2.rectangle(frame, (x1, y1), (x2, y2), (0, 255, 0), 2)\n       cv2.putText(frame, f'{label}: {confidence:.2f}', (x1, y1 - 10), cv2.FONT_HERSHEY_SIMPLEX, 0.9, (0, 255, 0), 2)\n\n   out.write(frame)\n\ncap.release()\nout.release()\ncv2.destroyAllWindows()",
        "last_error": "Traceback (most recent call last):\n  File \"script_beff577c_1754394762.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()"
      },
      "session_id": "gemma3:27b_b603_tpusg_batch",
      "metadata": {
        "num_run": 30
      },
      "tags": [
        "benchmark",
        "gemma3:27b",
        "tpu_sketch_generator"
      ],
      "latency": 231.241,
      "total_cost": 0.0,
      "observations": [
        {
          "id": "time-14-48-59-790418_chatcmpl-be6433f5-30b3-4556-898f-a0ef31b3e94c",
          "traceId": "a8387e12",
          "type": "GENERATION",
          "name": "a838_tpusg_gen_attempt#1",
          "startTime": "2025-08-05T11:48:59.790000+00:00",
          "endTime": "2025-08-05T11:49:33.651000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 33861.0,
          "completionTokens": 878,
          "environment": "default",
          "promptTokens": 1966,
          "totalTokens": 2844,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-49-41-777895_chatcmpl-bb33fc68-e9e2-4a4a-a0f2-18f682875b9d",
          "traceId": "a8387e12",
          "type": "GENERATION",
          "name": "a838_tpusg_gen_attempt#2",
          "startTime": "2025-08-05T11:49:41.777000+00:00",
          "endTime": "2025-08-05T11:50:20.881000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39104.0,
          "completionTokens": 1027,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3075,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-50-28-999126_chatcmpl-719ab6d7-4b09-4bb6-b784-ec7dafe697e3",
          "traceId": "a8387e12",
          "type": "GENERATION",
          "name": "a838_tpusg_gen_attempt#3",
          "startTime": "2025-08-05T11:50:28.999000+00:00",
          "endTime": "2025-08-05T11:51:08.220000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39221.0,
          "completionTokens": 1030,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3078,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-51-16-520352_chatcmpl-ee708234-a024-41d8-b545-67d5a7f55324",
          "traceId": "a8387e12",
          "type": "GENERATION",
          "name": "a838_tpusg_gen_attempt#4",
          "startTime": "2025-08-05T11:51:16.520000+00:00",
          "endTime": "2025-08-05T11:51:55.683000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39163.0,
          "completionTokens": 1028,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3076,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-52-03-796143_chatcmpl-da34465c-0cb5-49d7-aa12-cd6a56d2a722",
          "traceId": "a8387e12",
          "type": "GENERATION",
          "name": "a838_tpusg_gen_attempt#5",
          "startTime": "2025-08-05T11:52:03.796000+00:00",
          "endTime": "2025-08-05T11:52:42.943000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39147.0,
          "completionTokens": 1027,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3075,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "52365f5e-5a29-47a2-bd8b-14ebb268feda",
          "traceId": "a8387e12",
          "type": "SPAN",
          "name": "error_a8_tpusg_failure_signal_tpu_sketch_generator",
          "startTime": "2025-08-05T11:52:51.031000+00:00",
          "level": "ERROR",
          "statusMessage": "Failed. Last error: Traceback (most recent call last):\n  File \"script_beff577c_1754394762.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()",
          "calculatedTotalCost": 0.0,
          "completionTokens": 0,
          "environment": "default",
          "promptTokens": 0,
          "totalTokens": 0,
          "costDetails": {},
          "endTime": null,
          "model": null,
          "modelParameters": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null,
          "latency": null
        }
      ],
      "environment": "default",
      "createdAt": "2025-08-05T11:49:00.309Z",
      "updatedAt": "2025-08-05T11:52:56.593Z"
    },
    {
      "id": "f329b585",
      "timestamp": "2025-08-05T11:44:56.621000+00:00",
      "name": "f329_tpu_sketch_generator",
      "input": null,
      "output": {
        "status": "failed",
        "last_code": "import numpy as np\nimport cv2\nfrom tflite_runtime.interpreter import Interpreter, load_delegate\n\n# Configuration Parameters\nmodel_path  = \"/home/mendel/tinyml_autopilot/models/edgetpu_detect.tflite\"\nlabel_path  = \"/home/mendel/tinyml_autopilot/models/labelmap.txt\"\ninput_video_path  = \"/home/mendel/tinyml_autopilot/data//sheeps.mp4\"\noutput_video_path  = \"/home/mendel/tinyml_autopilot/results/sheeps_detections.mp4\"\n\n# Load Labels\nwith open(label_path, 'r') as f:\n   labels = [line.strip() for line in f.readlines()]\n\n# Load Interpreter with EdgeTPU\ntry:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('libedgetpu.so.1.0')])\nexcept:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('/usr/lib/aarch64-linux-gnu/libedgetpu.so.1.0')])\n\ninterpreter.allocate_tensors()\n\n# Get Model Details\ninput_details = interpreter.get_input_details()\noutput_details = interpreter.get_output_details()\ninput_shape = input_details[0]['shape']\ninput_data_type = input_details[0]['dtype']\n\n# Video Setup\ncap = cv2.VideoCapture(input_video_path)\nif not cap.isOpened():\n   print(\"Error opening video file\")\n   exit()\n\nframe_width = int(cap.get(3))\nframe_height = int(cap.get(4))\nfourcc = cv2.VideoWriter_fourcc(*'mp4v')\nout = cv2.VideoWriter(output_video_path, fourcc, 20.0, (frame_width, frame_height))\n\n# Inference Loop\nwhile True:\n   ret, frame = cap.read()\n   if not ret:\n       break\n\n   # Preprocessing\n   resized_frame = cv2.resize(frame, (input_shape[1], input_shape[2]))\n   input_data = np.expand_dims(resized_frame, axis=0)\n   if input_data_type == np.float32:\n       input_data = (np.float32(input_data) - 127.5) / 127.5\n\n   # Inference\n   interpreter.set_tensor(input_details[0]['index'], input_data)\n   interpreter.invoke()\n\n   # Post-processing\n   output_data = interpreter.get_tensor(output_details[0]['index'])\n   boxes = output_data[0][0:4]\n   classes = output_data[0][4]\n   scores = output_data[0][5]\n\n   if scores > 0.5:\n       x1 = int(boxes[0] * frame_width)\n       y1 = int(boxes[1] * frame_height)\n       x2 = int(boxes[2] * frame_width)\n       y2 = int(boxes[3] * frame_height)\n       class_id = int(classes)\n       label = labels[class_id]\n       confidence = scores\n       cv2.rectangle(frame, (x1, y1), (x2, y2), (0, 255, 0), 2)\n       cv2.putText(frame, f'{label}: {confidence:.2f}', (x1, y1 - 10), cv2.FONT_HERSHEY_SIMPLEX, 0.9, (0, 255, 0), 2)\n\n   out.write(frame)\n\ncap.release()\nout.release()\ncv2.destroyAllWindows()",
        "last_error": "Traceback (most recent call last):\n  File \"script_25b4a576_1754394524.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()"
      },
      "session_id": "gemma3:27b_b603_tpusg_batch",
      "metadata": {
        "num_run": 29
      },
      "tags": [
        "benchmark",
        "gemma3:27b",
        "tpu_sketch_generator"
      ],
      "latency": 236.081,
      "total_cost": 0.0,
      "observations": [
        {
          "id": "time-14-44-56-622316_chatcmpl-7607113f-3b0f-42da-88c5-51bf19fcb9bb",
          "traceId": "f329b585",
          "type": "GENERATION",
          "name": "f329_tpusg_gen_attempt#1",
          "startTime": "2025-08-05T11:44:56.622000+00:00",
          "endTime": "2025-08-05T11:45:30.423000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 33801.0,
          "completionTokens": 878,
          "environment": "default",
          "promptTokens": 1966,
          "totalTokens": 2844,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-45-38-593407_chatcmpl-1ab4851b-125d-4d3f-8c76-d1980d2b4c37",
          "traceId": "f329b585",
          "type": "GENERATION",
          "name": "f329_tpusg_gen_attempt#2",
          "startTime": "2025-08-05T11:45:38.593000+00:00",
          "endTime": "2025-08-05T11:46:19.823000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 41230.0,
          "completionTokens": 1082,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3130,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-46-28-028606_chatcmpl-8098b159-8197-4bd1-949a-c49184a1c589",
          "traceId": "f329b585",
          "type": "GENERATION",
          "name": "f329_tpusg_gen_attempt#3",
          "startTime": "2025-08-05T11:46:28.028000+00:00",
          "endTime": "2025-08-05T11:47:09.417000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 41389.0,
          "completionTokens": 1086,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3134,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-47-17-650998_chatcmpl-1a3ca709-ac0c-43bb-a54c-dd2333eaba44",
          "traceId": "f329b585",
          "type": "GENERATION",
          "name": "f329_tpusg_gen_attempt#4",
          "startTime": "2025-08-05T11:47:17.650000+00:00",
          "endTime": "2025-08-05T11:47:57.009000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39359.0,
          "completionTokens": 1028,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3076,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-48-05-102134_chatcmpl-414d45e4-c8f6-4c63-a464-41eb6b0e477b",
          "traceId": "f329b585",
          "type": "GENERATION",
          "name": "f329_tpusg_gen_attempt#5",
          "startTime": "2025-08-05T11:48:05.102000+00:00",
          "endTime": "2025-08-05T11:48:44.606000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39504.0,
          "completionTokens": 1036,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3084,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "94a5ef48-8058-439c-81e4-90e9c5f10fc6",
          "traceId": "f329b585",
          "type": "SPAN",
          "name": "error_f3_tpusg_failure_signal_tpu_sketch_generator",
          "startTime": "2025-08-05T11:48:52.703000+00:00",
          "level": "ERROR",
          "statusMessage": "Failed. Last error: Traceback (most recent call last):\n  File \"script_25b4a576_1754394524.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()",
          "calculatedTotalCost": 0.0,
          "completionTokens": 0,
          "environment": "default",
          "promptTokens": 0,
          "totalTokens": 0,
          "costDetails": {},
          "endTime": null,
          "model": null,
          "modelParameters": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null,
          "latency": null
        }
      ],
      "environment": "default",
      "createdAt": "2025-08-05T11:44:57.144Z",
      "updatedAt": "2025-08-05T11:48:57.867Z"
    },
    {
      "id": "56cdf55b",
      "timestamp": "2025-08-05T11:40:56.782000+00:00",
      "name": "56cd_tpu_sketch_generator",
      "input": null,
      "output": {
        "status": "failed",
        "last_code": "import numpy as np\nimport cv2\nfrom tflite_runtime.interpreter import Interpreter, load_delegate\n\n# Configuration Parameters\nmodel_path  = \"/home/mendel/tinyml_autopilot/models/edgetpu_detect.tflite\"\nlabel_path  = \"/home/mendel/tinyml_autopilot/models/labelmap.txt\"\ninput_video_path  = \"/home/mendel/tinyml_autopilot/data//sheeps.mp4\"\noutput_video_path  = \"/home/mendel/tinyml_autopilot/results/sheeps_detections.mp4\"\n\n# Load Labels\nwith open(label_path, 'r') as f:\n   labels = [line.strip() for line in f.readlines()]\n\n# Load Interpreter with EdgeTPU\ntry:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('libedgetpu.so.1.0')])\nexcept:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('/usr/lib/aarch64-linux-gnu/libedgetpu.so.1.0')])\n\ninterpreter.allocate_tensors()\n\n# Get Model Details\ninput_details = interpreter.get_input_details()\noutput_details = interpreter.get_output_details()\ninput_shape = input_details[0]['shape']\ninput_data_type = input_details[0]['dtype']\n\n# Video Setup\ncap = cv2.VideoCapture(input_video_path)\nif not cap.isOpened():\n   print(\"Error opening video file\")\n   exit()\n\nframe_width = int(cap.get(3))\nframe_height = int(cap.get(4))\nfourcc = cv2.VideoWriter_fourcc(*'mp4v')\nout = cv2.VideoWriter(output_video_path, fourcc, 20.0, (frame_width, frame_height))\n\n# Inference Loop\nwhile True:\n   ret, frame = cap.read()\n   if not ret:\n       break\n\n   # Preprocessing\n   resized_frame = cv2.resize(frame, (input_shape[1], input_shape[2]))\n   input_data = np.expand_dims(resized_frame, axis=0)\n   if input_data_type == np.float32:\n       input_data = (np.float32(input_data) - 127.5) / 127.5\n\n   # Inference\n   interpreter.set_tensor(input_details[0]['index'], input_data)\n   interpreter.invoke()\n\n   # Post-processing\n   output_data = interpreter.get_tensor(output_details[0]['index'])\n   boxes = output_data[0][0:4]\n   classes = output_data[0][4]\n   scores = output_data[0][5]\n\n   if scores > 0.5:\n       x1 = int(boxes[0] * frame_width)\n       y1 = int(boxes[1] * frame_height)\n       x2 = int(boxes[2] * frame_width)\n       y2 = int(boxes[3] * frame_height)\n       class_id = int(classes)\n       label = labels[class_id]\n       confidence = scores\n       cv2.rectangle(frame, (x1, y1), (x2, y2), (0, 255, 0), 2)\n       cv2.putText(frame, f'{label}: {confidence:.2f}', (x1, y1 - 10), cv2.FONT_HERSHEY_SIMPLEX, 0.9, (0, 255, 0), 2)\n\n   out.write(frame)\n\ncap.release()\nout.release()\ncv2.destroyAllWindows()",
        "last_error": "Traceback (most recent call last):\n  File \"script_b92c60f9_1754394281.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()"
      },
      "session_id": "gemma3:27b_b603_tpusg_batch",
      "metadata": {
        "num_run": 28
      },
      "tags": [
        "benchmark",
        "gemma3:27b",
        "tpu_sketch_generator"
      ],
      "latency": 233.284,
      "total_cost": 0.0,
      "observations": [
        {
          "id": "time-14-40-56-783425_chatcmpl-47d13043-6114-4e85-bc6b-8ea18e2c7a12",
          "traceId": "56cdf55b",
          "type": "GENERATION",
          "name": "56cd_tpusg_gen_attempt#1",
          "startTime": "2025-08-05T11:40:56.783000+00:00",
          "endTime": "2025-08-05T11:41:30.632000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 33849.0,
          "completionTokens": 878,
          "environment": "default",
          "promptTokens": 1966,
          "totalTokens": 2844,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-41-38-672886_chatcmpl-92561ad9-e6c0-47e0-9b98-96fd44fdbfce",
          "traceId": "56cdf55b",
          "type": "GENERATION",
          "name": "56cd_tpusg_gen_attempt#2",
          "startTime": "2025-08-05T11:41:38.672000+00:00",
          "endTime": "2025-08-05T11:42:19.614000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 40942.0,
          "completionTokens": 1082,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3130,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-42-27-699268_chatcmpl-015e5470-684e-4907-a8f7-32523cb9c1e3",
          "traceId": "56cdf55b",
          "type": "GENERATION",
          "name": "56cd_tpusg_gen_attempt#3",
          "startTime": "2025-08-05T11:42:27.699000+00:00",
          "endTime": "2025-08-05T11:43:06.673000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 38974.0,
          "completionTokens": 1028,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3076,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-43-14-930170_chatcmpl-be4c48ff-0e67-4141-84ca-85ca324d4bd3",
          "traceId": "56cdf55b",
          "type": "GENERATION",
          "name": "56cd_tpusg_gen_attempt#4",
          "startTime": "2025-08-05T11:43:14.930000+00:00",
          "endTime": "2025-08-05T11:43:54.408000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39478.0,
          "completionTokens": 1038,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3086,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-44-02-493619_chatcmpl-99ae1b48-6fd8-452e-b5ad-66c1953326b5",
          "traceId": "56cdf55b",
          "type": "GENERATION",
          "name": "56cd_tpusg_gen_attempt#5",
          "startTime": "2025-08-05T11:44:02.493000+00:00",
          "endTime": "2025-08-05T11:44:41.825000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39332.0,
          "completionTokens": 1036,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3084,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "bbce0094-8eb0-448c-a458-7f8388a42182",
          "traceId": "56cdf55b",
          "type": "SPAN",
          "name": "error_56_tpusg_failure_signal_tpu_sketch_generator",
          "startTime": "2025-08-05T11:44:50.067000+00:00",
          "level": "ERROR",
          "statusMessage": "Failed. Last error: Traceback (most recent call last):\n  File \"script_b92c60f9_1754394281.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()",
          "calculatedTotalCost": 0.0,
          "completionTokens": 0,
          "environment": "default",
          "promptTokens": 0,
          "totalTokens": 0,
          "costDetails": {},
          "endTime": null,
          "model": null,
          "modelParameters": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null,
          "latency": null
        }
      ],
      "environment": "default",
      "createdAt": "2025-08-05T11:40:57.302Z",
      "updatedAt": "2025-08-05T11:44:55.542Z"
    },
    {
      "id": "225a4d17",
      "timestamp": "2025-08-05T11:36:55.955000+00:00",
      "name": "225a_tpu_sketch_generator",
      "input": null,
      "output": {
        "status": "failed",
        "last_code": "import numpy as np\nimport cv2\nfrom tflite_runtime.interpreter import Interpreter, load_delegate\n\n# Configuration Parameters\nmodel_path  = \"/home/mendel/tinyml_autopilot/models/edgetpu_detect.tflite\"\nlabel_path  = \"/home/mendel/tinyml_autopilot/models/labelmap.txt\"\ninput_video_path  = \"/home/mendel/tinyml_autopilot/data//sheeps.mp4\"\noutput_video_path  = \"/home/mendel/tinyml_autopilot/results/sheeps_detections.mp4\"\n\n# Load Labels\nwith open(label_path, 'r') as f:\n   labels = [line.strip() for line in f.readlines()]\n\n# Load Interpreter with EdgeTPU\ntry:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('libedgetpu.so.1.0')])\nexcept:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('/usr/lib/aarch64-linux-gnu/libedgetpu.so.1.0')])\n\ninterpreter.allocate_tensors()\n\n# Get Model Details\ninput_details = interpreter.get_input_details()\noutput_details = interpreter.get_output_details()\ninput_shape = input_details[0]['shape']\ninput_data_type = input_details[0]['dtype']\n\n# Video Setup\ncap = cv2.VideoCapture(input_video_path)\nif not cap.isOpened():\n   print(\"Error opening video file\")\n   exit()\n\nframe_width = int(cap.get(3))\nframe_height = int(cap.get(4))\nfourcc = cv2.VideoWriter_fourcc(*'mp4v')\nout = cv2.VideoWriter(output_video_path, fourcc, 20.0, (frame_width, frame_height))\n\n# Inference Loop\nwhile True:\n   ret, frame = cap.read()\n   if not ret:\n       break\n\n   # Preprocessing\n   resized_frame = cv2.resize(frame, (input_shape[1], input_shape[2]))\n   input_data = np.expand_dims(resized_frame, axis=0)\n   if input_data_type == np.float32:\n       input_data = (np.float32(input_data) - 127.5) / 127.5\n\n   # Inference\n   interpreter.set_tensor(input_details[0]['index'], input_data)\n   interpreter.invoke()\n\n   # Post-processing\n   output_data = interpreter.get_tensor(output_details[0]['index'])\n   boxes = output_data[0][0:4]\n   classes = output_data[0][4]\n   scores = output_data[0][5]\n\n   if scores > 0.5:\n       x1 = int(boxes[0] * frame_width)\n       y1 = int(boxes[1] * frame_height)\n       x2 = int(boxes[2] * frame_width)\n       y2 = int(boxes[3] * frame_height)\n       class_id = int(classes)\n       label = labels[class_id]\n       confidence = scores\n       cv2.rectangle(frame, (x1, y1), (x2, y2), (0, 255, 0), 2)\n       cv2.putText(frame, f'{label}: {confidence:.2f}', (x1, y1 - 10), cv2.FONT_HERSHEY_SIMPLEX, 0.9, (0, 255, 0), 2)\n\n   out.write(frame)\n\ncap.release()\nout.release()\ncv2.destroyAllWindows()",
        "last_error": "Traceback (most recent call last):\n  File \"script_6b36134f_1754394043.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()"
      },
      "session_id": "gemma3:27b_b603_tpusg_batch",
      "metadata": {
        "num_run": 27
      },
      "tags": [
        "benchmark",
        "gemma3:27b",
        "tpu_sketch_generator"
      ],
      "latency": 235.633,
      "total_cost": 0.0,
      "observations": [
        {
          "id": "time-14-36-55-956890_chatcmpl-fcb93f7a-3da7-4e56-a555-f5580b76aca7",
          "traceId": "225a4d17",
          "type": "GENERATION",
          "name": "225a_tpusg_gen_attempt#1",
          "startTime": "2025-08-05T11:36:55.956000+00:00",
          "endTime": "2025-08-05T11:37:29.911000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 33955.0,
          "completionTokens": 878,
          "environment": "default",
          "promptTokens": 1966,
          "totalTokens": 2844,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-37-38-023901_chatcmpl-821754a2-6108-47fa-9f1f-16f8de6cc8bf",
          "traceId": "225a4d17",
          "type": "GENERATION",
          "name": "225a_tpusg_gen_attempt#2",
          "startTime": "2025-08-05T11:37:38.023000+00:00",
          "endTime": "2025-08-05T11:38:16.990000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 38967.0,
          "completionTokens": 1027,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3075,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-38-25-193597_chatcmpl-b2cd8bd0-e8c2-4bab-b0d5-0e3bbf3a2dbd",
          "traceId": "225a4d17",
          "type": "GENERATION",
          "name": "225a_tpusg_gen_attempt#3",
          "startTime": "2025-08-05T11:38:25.193000+00:00",
          "endTime": "2025-08-05T11:39:06.269000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 41076.0,
          "completionTokens": 1083,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3131,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-39-14-780837_chatcmpl-c53e7b06-1daf-4702-9157-624e158ebbf2",
          "traceId": "225a4d17",
          "type": "GENERATION",
          "name": "225a_tpusg_gen_attempt#4",
          "startTime": "2025-08-05T11:39:14.780000+00:00",
          "endTime": "2025-08-05T11:39:54.230000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39450.0,
          "completionTokens": 1038,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3086,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-40-02-339694_chatcmpl-44255630-58c1-4cf9-946f-d9eb60bbe057",
          "traceId": "225a4d17",
          "type": "GENERATION",
          "name": "225a_tpusg_gen_attempt#5",
          "startTime": "2025-08-05T11:40:02.339000+00:00",
          "endTime": "2025-08-05T11:40:43.357000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 41018.0,
          "completionTokens": 1082,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3130,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "1e89e794-780e-4895-b327-7b3cb3bf5d4b",
          "traceId": "225a4d17",
          "type": "SPAN",
          "name": "error_22_tpusg_failure_signal_tpu_sketch_generator",
          "startTime": "2025-08-05T11:40:51.589000+00:00",
          "level": "ERROR",
          "statusMessage": "Failed. Last error: Traceback (most recent call last):\n  File \"script_6b36134f_1754394043.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()",
          "calculatedTotalCost": 0.0,
          "completionTokens": 0,
          "environment": "default",
          "promptTokens": 0,
          "totalTokens": 0,
          "costDetails": {},
          "endTime": null,
          "model": null,
          "modelParameters": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null,
          "latency": null
        }
      ],
      "environment": "default",
      "createdAt": "2025-08-05T11:36:56.474Z",
      "updatedAt": "2025-08-05T11:40:56.730Z"
    },
    {
      "id": "36f58050",
      "timestamp": "2025-08-05T11:32:56.289000+00:00",
      "name": "36f5_tpu_sketch_generator",
      "input": null,
      "output": {
        "status": "failed",
        "last_code": "import numpy as np\nimport cv2\nfrom tflite_runtime.interpreter import Interpreter, load_delegate\n\n# Configuration Parameters\nmodel_path  = \"/home/mendel/tinyml_autopilot/models/edgetpu_detect.tflite\"\nlabel_path  = \"/home/mendel/tinyml_autopilot/models/labelmap.txt\"\ninput_video_path  = \"/home/mendel/tinyml_autopilot/data//sheeps.mp4\"\noutput_video_path  = \"/home/mendel/tinyml_autopilot/results/sheeps_detections.mp4\"\n\n# Load Labels\nwith open(label_path, 'r') as f:\n   labels = [line.strip() for line in f.readlines()]\n\n# Load Interpreter with EdgeTPU\ntry:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('libedgetpu.so.1.0')])\nexcept:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('/usr/lib/aarch64-linux-gnu/libedgetpu.so.1.0')])\n\ninterpreter.allocate_tensors()\n\n# Get Model Details\ninput_details = interpreter.get_input_details()\noutput_details = interpreter.get_output_details()\ninput_shape = input_details[0]['shape']\ninput_data_type = input_details[0]['dtype']\n\n# Video Setup\ncap = cv2.VideoCapture(input_video_path)\nif not cap.isOpened():\n   print(\"Error opening video file\")\n   exit()\n\nframe_width = int(cap.get(3))\nframe_height = int(cap.get(4))\nfourcc = cv2.VideoWriter_fourcc(*'mp4v')\nout = cv2.VideoWriter(output_video_path, fourcc, 20.0, (frame_width, frame_height))\n\n# Inference Loop\nwhile True:\n   ret, frame = cap.read()\n   if not ret:\n       break\n\n   # Preprocessing\n   resized_frame = cv2.resize(frame, (input_shape[1], input_shape[2]))\n   input_data = np.expand_dims(resized_frame, axis=0)\n   if input_data_type == np.float32:\n       input_data = (np.float32(input_data) - 127.5) / 127.5\n\n   # Inference\n   interpreter.set_tensor(input_details[0]['index'], input_data)\n   interpreter.invoke()\n\n   # Post-processing\n   output_data = interpreter.get_tensor(output_details[0]['index'])\n   boxes = output_data[0][0:4]\n   classes = output_data[0][4]\n   scores = output_data[0][5]\n\n   if scores > 0.5:\n       x1 = int(boxes[0] * frame_width)\n       y1 = int(boxes[1] * frame_height)\n       x2 = int(boxes[2] * frame_width)\n       y2 = int(boxes[3] * frame_height)\n       class_id = int(classes)\n       label = labels[class_id]\n       confidence = scores\n       cv2.rectangle(frame, (x1, y1), (x2, y2), (0, 255, 0), 2)\n       cv2.putText(frame, f'{label}: {confidence:.2f}', (x1, y1 - 10), cv2.FONT_HERSHEY_SIMPLEX, 0.9, (0, 255, 0), 2)\n\n   out.write(frame)\n\ncap.release()\nout.release()\ncv2.destroyAllWindows()",
        "last_error": "Traceback (most recent call last):\n  File \"script_70a1e524_1754393802.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()"
      },
      "session_id": "gemma3:27b_b603_tpusg_batch",
      "metadata": {
        "num_run": 26
      },
      "tags": [
        "benchmark",
        "gemma3:27b",
        "tpu_sketch_generator"
      ],
      "latency": 234.165,
      "total_cost": 0.0,
      "observations": [
        {
          "id": "time-14-32-56-291316_chatcmpl-737c206e-1005-48f2-8b4f-5bbd8b36f964",
          "traceId": "36f58050",
          "type": "GENERATION",
          "name": "36f5_tpusg_gen_attempt#1",
          "startTime": "2025-08-05T11:32:56.291000+00:00",
          "endTime": "2025-08-05T11:33:30.135000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 33844.0,
          "completionTokens": 878,
          "environment": "default",
          "promptTokens": 1966,
          "totalTokens": 2844,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-33-38-267648_chatcmpl-516547df-e3a1-4447-b618-13943f49e59b",
          "traceId": "36f58050",
          "type": "GENERATION",
          "name": "36f5_tpusg_gen_attempt#2",
          "startTime": "2025-08-05T11:33:38.267000+00:00",
          "endTime": "2025-08-05T11:34:19.277000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 41010.0,
          "completionTokens": 1082,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3130,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-34-27-398642_chatcmpl-2345922b-51fe-4af3-9e65-9257293f43fd",
          "traceId": "36f58050",
          "type": "GENERATION",
          "name": "36f5_tpusg_gen_attempt#3",
          "startTime": "2025-08-05T11:34:27.398000+00:00",
          "endTime": "2025-08-05T11:35:07.024000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39626.0,
          "completionTokens": 1043,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3091,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-35-15-277980_chatcmpl-40bf5bbd-6b6e-48d3-80d3-ff311e8132a7",
          "traceId": "36f58050",
          "type": "GENERATION",
          "name": "36f5_tpusg_gen_attempt#4",
          "startTime": "2025-08-05T11:35:15.277000+00:00",
          "endTime": "2025-08-05T11:35:54.587000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39310.0,
          "completionTokens": 1038,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3086,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-36-02-654693_chatcmpl-201f57b6-59c2-4b50-aa18-5ec62c8d4c5e",
          "traceId": "36f58050",
          "type": "GENERATION",
          "name": "36f5_tpusg_gen_attempt#5",
          "startTime": "2025-08-05T11:36:02.654000+00:00",
          "endTime": "2025-08-05T11:36:42.355000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39701.0,
          "completionTokens": 1048,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3096,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "dde5e0b1-4563-44b3-a3da-84cef5045846",
          "traceId": "36f58050",
          "type": "SPAN",
          "name": "error_36_tpusg_failure_signal_tpu_sketch_generator",
          "startTime": "2025-08-05T11:36:50.456000+00:00",
          "level": "ERROR",
          "statusMessage": "Failed. Last error: Traceback (most recent call last):\n  File \"script_70a1e524_1754393802.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()",
          "calculatedTotalCost": 0.0,
          "completionTokens": 0,
          "environment": "default",
          "promptTokens": 0,
          "totalTokens": 0,
          "costDetails": {},
          "endTime": null,
          "model": null,
          "modelParameters": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null,
          "latency": null
        }
      ],
      "environment": "default",
      "createdAt": "2025-08-05T11:32:56.810Z",
      "updatedAt": "2025-08-05T11:36:56.027Z"
    },
    {
      "id": "3b0b1b3f",
      "timestamp": "2025-08-05T11:28:56.708000+00:00",
      "name": "3b0b_tpu_sketch_generator",
      "input": null,
      "output": {
        "status": "failed",
        "last_code": "import numpy as np\nimport cv2\nfrom tflite_runtime.interpreter import Interpreter, load_delegate\n\n# Configuration Parameters\nmodel_path  = \"/home/mendel/tinyml_autopilot/models/edgetpu_detect.tflite\"\nlabel_path  = \"/home/mendel/tinyml_autopilot/models/labelmap.txt\"\ninput_video_path  = \"/home/mendel/tinyml_autopilot/data//sheeps.mp4\"\noutput_video_path  = \"/home/mendel/tinyml_autopilot/results/sheeps_detections.mp4\"\n\n# Load Labels\nwith open(label_path, 'r') as f:\n   labels = [line.strip() for line in f.readlines()]\n\n# Load Interpreter with EdgeTPU\ntry:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('libedgetpu.so.1.0')])\nexcept:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('/usr/lib/aarch64-linux-gnu/libedgetpu.so.1.0')])\n\ninterpreter.allocate_tensors()\n\n# Get Model Details\ninput_details = interpreter.get_input_details()\noutput_details = interpreter.get_output_details()\ninput_shape = input_details[0]['shape']\ninput_data_type = input_details[0]['dtype']\n\n# Video Setup\ncap = cv2.VideoCapture(input_video_path)\nif not cap.isOpened():\n   print(\"Error opening video file\")\n   exit()\n\nframe_width = int(cap.get(3))\nframe_height = int(cap.get(4))\nfourcc = cv2.VideoWriter_fourcc(*'mp4v')\nout = cv2.VideoWriter(output_video_path, fourcc, 20.0, (frame_width, frame_height))\n\n# Inference Loop\nwhile True:\n   ret, frame = cap.read()\n   if not ret:\n       break\n\n   # Preprocessing\n   resized_frame = cv2.resize(frame, (input_shape[1], input_shape[2]))\n   input_data = np.expand_dims(resized_frame, axis=0)\n   if input_data_type == np.float32:\n       input_data = (np.float32(input_data) - 127.5) / 127.5\n\n   # Inference\n   interpreter.set_tensor(input_details[0]['index'], input_data)\n   interpreter.invoke()\n\n   # Post-processing\n   output_data = interpreter.get_tensor(output_details[0]['index'])\n   boxes = output_data[0][0:4]\n   classes = output_data[0][4]\n   scores = output_data[0][5]\n\n   if scores > 0.5:\n       x1 = int(boxes[0] * frame_width)\n       y1 = int(boxes[1] * frame_height)\n       x2 = int(boxes[2] * frame_width)\n       y2 = int(boxes[3] * frame_height)\n       class_id = int(classes)\n       label = labels[class_id]\n       confidence = scores\n       cv2.rectangle(frame, (x1, y1), (x2, y2), (0, 255, 0), 2)\n       cv2.putText(frame, f'{label}: {confidence:.2f}', (x1, y1 - 10), cv2.FONT_HERSHEY_SIMPLEX, 0.9, (0, 255, 0), 2)\n\n   out.write(frame)\n\ncap.release()\nout.release()\ncv2.destroyAllWindows()",
        "last_error": "Traceback (most recent call last):\n  File \"script_91c793a1_1754393562.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()"
      },
      "session_id": "gemma3:27b_b603_tpusg_batch",
      "metadata": {
        "num_run": 25
      },
      "tags": [
        "benchmark",
        "gemma3:27b",
        "tpu_sketch_generator"
      ],
      "latency": 233.786,
      "total_cost": 0.0,
      "observations": [
        {
          "id": "time-14-28-56-710169_chatcmpl-9010ff0c-5946-4bc9-bf37-e4aa7c76a189",
          "traceId": "3b0b1b3f",
          "type": "GENERATION",
          "name": "3b0b_tpusg_gen_attempt#1",
          "startTime": "2025-08-05T11:28:56.710000+00:00",
          "endTime": "2025-08-05T11:29:30.629000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 33919.0,
          "completionTokens": 878,
          "environment": "default",
          "promptTokens": 1966,
          "totalTokens": 2844,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-29-38-706532_chatcmpl-f7ff6360-33f2-4778-9783-f31c33d87bbb",
          "traceId": "3b0b1b3f",
          "type": "GENERATION",
          "name": "3b0b_tpusg_gen_attempt#2",
          "startTime": "2025-08-05T11:29:38.706000+00:00",
          "endTime": "2025-08-05T11:30:18.028000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39322.0,
          "completionTokens": 1027,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3075,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-30-26-082766_chatcmpl-5040a0d4-8b8c-4eba-9faa-b6fbefef9a68",
          "traceId": "3b0b1b3f",
          "type": "GENERATION",
          "name": "3b0b_tpusg_gen_attempt#3",
          "startTime": "2025-08-05T11:30:26.082000+00:00",
          "endTime": "2025-08-05T11:31:05.961000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39879.0,
          "completionTokens": 1043,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3091,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-31-14-243224_chatcmpl-9edae767-7601-4e05-a738-d7fc924d3aa4",
          "traceId": "3b0b1b3f",
          "type": "GENERATION",
          "name": "3b0b_tpusg_gen_attempt#4",
          "startTime": "2025-08-05T11:31:14.243000+00:00",
          "endTime": "2025-08-05T11:31:55.035000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 40792.0,
          "completionTokens": 1067,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3115,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-32-03-137800_chatcmpl-af82108b-1e02-48e6-b8d8-94b1e5fb0410",
          "traceId": "3b0b1b3f",
          "type": "GENERATION",
          "name": "3b0b_tpusg_gen_attempt#5",
          "startTime": "2025-08-05T11:32:03.137000+00:00",
          "endTime": "2025-08-05T11:32:42.347000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39210.0,
          "completionTokens": 1027,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3075,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "8ec0760e-e04b-4595-834a-8b64e46a7802",
          "traceId": "3b0b1b3f",
          "type": "SPAN",
          "name": "error_3b_tpusg_failure_signal_tpu_sketch_generator",
          "startTime": "2025-08-05T11:32:50.496000+00:00",
          "level": "ERROR",
          "statusMessage": "Failed. Last error: Traceback (most recent call last):\n  File \"script_91c793a1_1754393562.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()",
          "calculatedTotalCost": 0.0,
          "completionTokens": 0,
          "environment": "default",
          "promptTokens": 0,
          "totalTokens": 0,
          "costDetails": {},
          "endTime": null,
          "model": null,
          "modelParameters": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null,
          "latency": null
        }
      ],
      "environment": "default",
      "createdAt": "2025-08-05T11:28:57.229Z",
      "updatedAt": "2025-08-05T11:32:55.973Z"
    },
    {
      "id": "738798e7",
      "timestamp": "2025-08-05T11:24:56.800000+00:00",
      "name": "7387_tpu_sketch_generator",
      "input": null,
      "output": {
        "status": "failed",
        "last_code": "import numpy as np\nimport cv2\nfrom tflite_runtime.interpreter import Interpreter, load_delegate\n\n# Configuration Parameters\nmodel_path  = \"/home/mendel/tinyml_autopilot/models/edgetpu_detect.tflite\"\nlabel_path  = \"/home/mendel/tinyml_autopilot/models/labelmap.txt\"\ninput_video_path  = \"/home/mendel/tinyml_autopilot/data//sheeps.mp4\"\noutput_video_path  = \"/home/mendel/tinyml_autopilot/results/sheeps_detections.mp4\"\n\n# Load Labels\nwith open(label_path, 'r') as f:\n   labels = [line.strip() for line in f.readlines()]\n\n# Load Interpreter with EdgeTPU\ntry:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('libedgetpu.so.1.0')])\nexcept:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('/usr/lib/aarch64-linux-gnu/libedgetpu.so.1.0')])\n\ninterpreter.allocate_tensors()\n\n# Get Model Details\ninput_details = interpreter.get_input_details()\noutput_details = interpreter.get_output_details()\ninput_shape = input_details[0]['shape']\ninput_data_type = input_details[0]['dtype']\n\n# Video Setup\ncap = cv2.VideoCapture(input_video_path)\nif not cap.isOpened():\n   print(\"Error opening video file\")\n   exit()\n\nframe_width = int(cap.get(3))\nframe_height = int(cap.get(4))\nfourcc = cv2.VideoWriter_fourcc(*'mp4v')\nout = cv2.VideoWriter(output_video_path, fourcc, 20.0, (frame_width, frame_height))\n\n# Inference Loop\nwhile True:\n   ret, frame = cap.read()\n   if not ret:\n       break\n\n   # Preprocessing\n   resized_frame = cv2.resize(frame, (input_shape[1], input_shape[2]))\n   input_data = np.expand_dims(resized_frame, axis=0)\n   if input_data_type == np.float32:\n       input_data = (np.float32(input_data) - 127.5) / 127.5\n\n   # Inference\n   interpreter.set_tensor(input_details[0]['index'], input_data)\n   interpreter.invoke()\n\n   # Post-processing\n   output_data = interpreter.get_tensor(output_details[0]['index'])\n   boxes = output_data[0][0:4]\n   classes = output_data[0][4]\n   scores = output_data[0][5]\n\n   if scores > 0.5:\n       x1 = int(boxes[0] * frame_width)\n       y1 = int(boxes[1] * frame_height)\n       x2 = int(boxes[2] * frame_width)\n       y2 = int(boxes[3] * frame_height)\n       class_id = int(classes)\n       label = labels[class_id]\n       confidence = scores\n       cv2.rectangle(frame, (x1, y1), (x2, y2), (0, 255, 0), 2)\n       cv2.putText(frame, f'{label}: {confidence:.2f}', (x1, y1 - 10), cv2.FONT_HERSHEY_SIMPLEX, 0.9, (0, 255, 0), 2)\n\n   out.write(frame)\n\ncap.release()\nout.release()\ncv2.destroyAllWindows()",
        "last_error": "Traceback (most recent call last):\n  File \"script_fbb31adc_1754393322.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()"
      },
      "session_id": "gemma3:27b_b603_tpusg_batch",
      "metadata": {
        "num_run": 24
      },
      "tags": [
        "benchmark",
        "gemma3:27b",
        "tpu_sketch_generator"
      ],
      "latency": 233.788,
      "total_cost": 0.0,
      "observations": [
        {
          "id": "time-14-24-56-801570_chatcmpl-68f71a9b-9f17-454d-9e7c-194e1b97c75b",
          "traceId": "738798e7",
          "type": "GENERATION",
          "name": "7387_tpusg_gen_attempt#1",
          "startTime": "2025-08-05T11:24:56.801000+00:00",
          "endTime": "2025-08-05T11:25:30.915000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 34114.0,
          "completionTokens": 878,
          "environment": "default",
          "promptTokens": 1966,
          "totalTokens": 2844,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-25-39-003621_chatcmpl-49499462-5c31-49fb-8722-1e69747882af",
          "traceId": "738798e7",
          "type": "GENERATION",
          "name": "7387_tpusg_gen_attempt#2",
          "startTime": "2025-08-05T11:25:39.003000+00:00",
          "endTime": "2025-08-05T11:26:18.181000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39178.0,
          "completionTokens": 1027,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3075,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-26-26-225661_chatcmpl-492c1d0a-1250-4dc2-8b94-17afa361ea40",
          "traceId": "738798e7",
          "type": "GENERATION",
          "name": "7387_tpusg_gen_attempt#3",
          "startTime": "2025-08-05T11:26:26.225000+00:00",
          "endTime": "2025-08-05T11:27:05.596000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39371.0,
          "completionTokens": 1027,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3075,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-27-13-851344_chatcmpl-5f930c46-59f6-4e75-b7bf-5bec0365eb5c",
          "traceId": "738798e7",
          "type": "GENERATION",
          "name": "7387_tpusg_gen_attempt#4",
          "startTime": "2025-08-05T11:27:13.851000+00:00",
          "endTime": "2025-08-05T11:27:53.185000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39334.0,
          "completionTokens": 1028,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3076,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-28-01-303022_chatcmpl-a983173a-8523-4e5b-a5c5-f8bb65c71ac0",
          "traceId": "738798e7",
          "type": "GENERATION",
          "name": "7387_tpusg_gen_attempt#5",
          "startTime": "2025-08-05T11:28:01.303000+00:00",
          "endTime": "2025-08-05T11:28:42.525000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 41222.0,
          "completionTokens": 1082,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3130,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "c514407c-48b8-4f10-bfaf-08cf84dc25b9",
          "traceId": "738798e7",
          "type": "SPAN",
          "name": "error_73_tpusg_failure_signal_tpu_sketch_generator",
          "startTime": "2025-08-05T11:28:50.589000+00:00",
          "level": "ERROR",
          "statusMessage": "Failed. Last error: Traceback (most recent call last):\n  File \"script_fbb31adc_1754393322.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()",
          "calculatedTotalCost": 0.0,
          "completionTokens": 0,
          "environment": "default",
          "promptTokens": 0,
          "totalTokens": 0,
          "costDetails": {},
          "endTime": null,
          "model": null,
          "modelParameters": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null,
          "latency": null
        }
      ],
      "environment": "default",
      "createdAt": "2025-08-05T11:24:57.319Z",
      "updatedAt": "2025-08-05T11:28:56.150Z"
    },
    {
      "id": "879c874d",
      "timestamp": "2025-08-05T11:20:55.687000+00:00",
      "name": "879c_tpu_sketch_generator",
      "input": null,
      "output": {
        "status": "failed",
        "last_code": "import numpy as np\nimport cv2\nfrom tflite_runtime.interpreter import Interpreter, load_delegate\n\n# Configuration Parameters\nmodel_path  = \"/home/mendel/tinyml_autopilot/models/edgetpu_detect.tflite\"\nlabel_path  = \"/home/mendel/tinyml_autopilot/models/labelmap.txt\"\ninput_video_path  = \"/home/mendel/tinyml_autopilot/data//sheeps.mp4\"\noutput_video_path  = \"/home/mendel/tinyml_autopilot/results/sheeps_detections.mp4\"\n\n# Load Labels\nwith open(label_path, 'r') as f:\n   labels = [line.strip() for line in f.readlines()]\n\n# Load Interpreter with EdgeTPU\ntry:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('libedgetpu.so.1.0')])\nexcept:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('/usr/lib/aarch64-linux-gnu/libedgetpu.so.1.0')])\n\ninterpreter.allocate_tensors()\n\n# Get Model Details\ninput_details = interpreter.get_input_details()\noutput_details = interpreter.get_output_details()\ninput_shape = input_details[0]['shape']\ninput_data_type = input_details[0]['dtype']\n\n# Video Setup\ncap = cv2.VideoCapture(input_video_path)\nif not cap.isOpened():\n   print(\"Error opening video file\")\n   exit()\n\nframe_width = int(cap.get(3))\nframe_height = int(cap.get(4))\nfourcc = cv2.VideoWriter_fourcc(*'mp4v')\nout = cv2.VideoWriter(output_video_path, fourcc, 20.0, (frame_width, frame_height))\n\n# Inference Loop\nwhile True:\n   ret, frame = cap.read()\n   if not ret:\n       break\n\n   # Preprocessing\n   resized_frame = cv2.resize(frame, (input_shape[1], input_shape[2]))\n   input_data = np.expand_dims(resized_frame, axis=0)\n   if input_data_type == np.float32:\n       input_data = (np.float32(input_data) - 127.5) / 127.5\n\n   # Inference\n   interpreter.set_tensor(input_details[0]['index'], input_data)\n   interpreter.invoke()\n\n   # Post-processing\n   output_data = interpreter.get_tensor(output_details[0]['index'])\n   boxes = output_data[0][0:4]\n   classes = output_data[0][4]\n   scores = output_data[0][5]\n\n   if scores > 0.5:\n       x1 = int(boxes[0] * frame_width)\n       y1 = int(boxes[1] * frame_height)\n       x2 = int(boxes[2] * frame_width)\n       y2 = int(boxes[3] * frame_height)\n       class_id = int(classes)\n       label = labels[class_id]\n       confidence = scores\n       cv2.rectangle(frame, (x1, y1), (x2, y2), (0, 255, 0), 2)\n       cv2.putText(frame, f'{label}: {confidence:.2f}', (x1, y1 - 10), cv2.FONT_HERSHEY_SIMPLEX, 0.9, (0, 255, 0), 2)\n\n   out.write(frame)\n\ncap.release()\nout.release()\ncv2.destroyAllWindows()",
        "last_error": "Traceback (most recent call last):\n  File \"script_42b7afdf_1754393081.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()"
      },
      "session_id": "gemma3:27b_b603_tpusg_batch",
      "metadata": {
        "num_run": 23
      },
      "tags": [
        "benchmark",
        "gemma3:27b",
        "tpu_sketch_generator"
      ],
      "latency": 234.137,
      "total_cost": 0.0,
      "observations": [
        {
          "id": "time-14-20-55-689263_chatcmpl-b3555721-efce-49ee-a4d0-5ee596859ddb",
          "traceId": "879c874d",
          "type": "GENERATION",
          "name": "879c_tpusg_gen_attempt#1",
          "startTime": "2025-08-05T11:20:55.689000+00:00",
          "endTime": "2025-08-05T11:21:29.456000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 33767.0,
          "completionTokens": 878,
          "environment": "default",
          "promptTokens": 1966,
          "totalTokens": 2844,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-21-37-763582_chatcmpl-bcd04d95-0751-495a-a4ac-9820acea5604",
          "traceId": "879c874d",
          "type": "GENERATION",
          "name": "879c_tpusg_gen_attempt#2",
          "startTime": "2025-08-05T11:21:37.763000+00:00",
          "endTime": "2025-08-05T11:22:16.994000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39231.0,
          "completionTokens": 1035,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3083,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-22-25-098243_chatcmpl-efd89ba1-5746-47e9-94ad-455d2ad4e4ab",
          "traceId": "879c874d",
          "type": "GENERATION",
          "name": "879c_tpusg_gen_attempt#3",
          "startTime": "2025-08-05T11:22:25.098000+00:00",
          "endTime": "2025-08-05T11:23:04.397000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39299.0,
          "completionTokens": 1030,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3078,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-23-12-491351_chatcmpl-eb49c83f-9e43-4051-9c13-6774c0b5e316",
          "traceId": "879c874d",
          "type": "GENERATION",
          "name": "879c_tpusg_gen_attempt#4",
          "startTime": "2025-08-05T11:23:12.491000+00:00",
          "endTime": "2025-08-05T11:23:52.289000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39798.0,
          "completionTokens": 1038,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3086,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-24-00-409201_chatcmpl-586b925e-396a-442b-9512-1477fd79239c",
          "traceId": "879c874d",
          "type": "GENERATION",
          "name": "879c_tpusg_gen_attempt#5",
          "startTime": "2025-08-05T11:24:00.409000+00:00",
          "endTime": "2025-08-05T11:24:41.713000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 41304.0,
          "completionTokens": 1082,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3130,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "bbc806b7-fb0c-4c79-b735-d27a261efa24",
          "traceId": "879c874d",
          "type": "SPAN",
          "name": "error_87_tpusg_failure_signal_tpu_sketch_generator",
          "startTime": "2025-08-05T11:24:49.826000+00:00",
          "level": "ERROR",
          "statusMessage": "Failed. Last error: Traceback (most recent call last):\n  File \"script_42b7afdf_1754393081.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()",
          "calculatedTotalCost": 0.0,
          "completionTokens": 0,
          "environment": "default",
          "promptTokens": 0,
          "totalTokens": 0,
          "costDetails": {},
          "endTime": null,
          "model": null,
          "modelParameters": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null,
          "latency": null
        }
      ],
      "environment": "default",
      "createdAt": "2025-08-05T11:20:56.207Z",
      "updatedAt": "2025-08-05T11:24:55.027Z"
    },
    {
      "id": "b1850f14",
      "timestamp": "2025-08-05T11:16:56.079000+00:00",
      "name": "b185_tpu_sketch_generator",
      "input": null,
      "output": {
        "status": "failed",
        "last_code": "import numpy as np\nimport cv2\nfrom tflite_runtime.interpreter import Interpreter, load_delegate\n\n# Configuration Parameters\nmodel_path  = \"/home/mendel/tinyml_autopilot/models/edgetpu_detect.tflite\"\nlabel_path  = \"/home/mendel/tinyml_autopilot/models/labelmap.txt\"\ninput_video_path  = \"/home/mendel/tinyml_autopilot/data//sheeps.mp4\"\noutput_video_path  = \"/home/mendel/tinyml_autopilot/results/sheeps_detections.mp4\"\n\n# Load Labels\nwith open(label_path, 'r') as f:\n   labels = [line.strip() for line in f.readlines()]\n\n# Load Interpreter with EdgeTPU\ntry:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('libedgetpu.so.1.0')])\nexcept:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('/usr/lib/aarch64-linux-gnu/libedgetpu.so.1.0')])\n\ninterpreter.allocate_tensors()\n\n# Get Model Details\ninput_details = interpreter.get_input_details()\noutput_details = interpreter.get_output_details()\ninput_shape = input_details[0]['shape']\ninput_data_type = input_details[0]['dtype']\n\n# Video Setup\ncap = cv2.VideoCapture(input_video_path)\nif not cap.isOpened():\n   print(\"Error opening video file\")\n   exit()\n\nframe_width = int(cap.get(3))\nframe_height = int(cap.get(4))\nfourcc = cv2.VideoWriter_fourcc(*'mp4v')\nout = cv2.VideoWriter(output_video_path, fourcc, 20.0, (frame_width, frame_height))\n\n# Inference Loop\nwhile True:\n   ret, frame = cap.read()\n   if not ret:\n       break\n\n   # Preprocessing\n   resized_frame = cv2.resize(frame, (input_shape[1], input_shape[2]))\n   input_data = np.expand_dims(resized_frame, axis=0)\n   if input_data_type == np.float32:\n       input_data = (np.float32(input_data) - 127.5) / 127.5\n\n   # Inference\n   interpreter.set_tensor(input_details[0]['index'], input_data)\n   interpreter.invoke()\n\n   # Post-processing\n   output_data = interpreter.get_tensor(output_details[0]['index'])\n   boxes = output_data[0][0:4]\n   classes = output_data[0][4]\n   scores = output_data[0][5]\n\n   if scores > 0.5:\n       x1 = int(boxes[0] * frame_width)\n       y1 = int(boxes[1] * frame_height)\n       x2 = int(boxes[2] * frame_width)\n       y2 = int(boxes[3] * frame_height)\n       class_id = int(classes)\n       label = labels[class_id]\n       confidence = scores\n       cv2.rectangle(frame, (x1, y1), (x2, y2), (0, 255, 0), 2)\n       cv2.putText(frame, f'{label}: {confidence:.2f}', (x1, y1 - 10), cv2.FONT_HERSHEY_SIMPLEX, 0.9, (0, 255, 0), 2)\n\n   out.write(frame)\n\ncap.release()\nout.release()\ncv2.destroyAllWindows()",
        "last_error": "Traceback (most recent call last):\n  File \"script_26307ee8_1754392841.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()"
      },
      "session_id": "gemma3:27b_b603_tpusg_batch",
      "metadata": {
        "num_run": 22
      },
      "tags": [
        "benchmark",
        "gemma3:27b",
        "tpu_sketch_generator"
      ],
      "latency": 233.246,
      "total_cost": 0.0,
      "observations": [
        {
          "id": "time-14-16-56-080627_chatcmpl-8f2623d5-fdf9-4460-9b39-c5dd4fdbed3c",
          "traceId": "b1850f14",
          "type": "GENERATION",
          "name": "b185_tpusg_gen_attempt#1",
          "startTime": "2025-08-05T11:16:56.080000+00:00",
          "endTime": "2025-08-05T11:17:30.037000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 33957.0,
          "completionTokens": 878,
          "environment": "default",
          "promptTokens": 1966,
          "totalTokens": 2844,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-17-38-339660_chatcmpl-2adfc2ed-e891-43e4-b0b9-894341d2199f",
          "traceId": "b1850f14",
          "type": "GENERATION",
          "name": "b185_tpusg_gen_attempt#2",
          "startTime": "2025-08-05T11:17:38.339000+00:00",
          "endTime": "2025-08-05T11:18:19.325000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 40986.0,
          "completionTokens": 1082,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3130,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-18-27-629177_chatcmpl-3fb7d27c-94f4-4b9c-ac39-7ff75a237079",
          "traceId": "b1850f14",
          "type": "GENERATION",
          "name": "b185_tpusg_gen_attempt#3",
          "startTime": "2025-08-05T11:18:27.629000+00:00",
          "endTime": "2025-08-05T11:19:06.843000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39214.0,
          "completionTokens": 1030,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3078,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-19-15-144984_chatcmpl-256dc5e8-07eb-4e0b-bb0d-7cefb8cd62b5",
          "traceId": "b1850f14",
          "type": "GENERATION",
          "name": "b185_tpusg_gen_attempt#4",
          "startTime": "2025-08-05T11:19:15.144000+00:00",
          "endTime": "2025-08-05T11:19:54.144000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39000.0,
          "completionTokens": 1028,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3076,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-20-02-185742_chatcmpl-e162913c-a400-44f6-bf7d-a27571af8b41",
          "traceId": "b1850f14",
          "type": "GENERATION",
          "name": "b185_tpusg_gen_attempt#5",
          "startTime": "2025-08-05T11:20:02.185000+00:00",
          "endTime": "2025-08-05T11:20:41.196000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39011.0,
          "completionTokens": 1027,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3075,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "81caae4f-a8d2-4529-87ad-23f3c05255da",
          "traceId": "b1850f14",
          "type": "SPAN",
          "name": "error_b1_tpusg_failure_signal_tpu_sketch_generator",
          "startTime": "2025-08-05T11:20:49.326000+00:00",
          "level": "ERROR",
          "statusMessage": "Failed. Last error: Traceback (most recent call last):\n  File \"script_26307ee8_1754392841.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()",
          "calculatedTotalCost": 0.0,
          "completionTokens": 0,
          "environment": "default",
          "promptTokens": 0,
          "totalTokens": 0,
          "costDetails": {},
          "endTime": null,
          "model": null,
          "modelParameters": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null,
          "latency": null
        }
      ],
      "environment": "default",
      "createdAt": "2025-08-05T11:16:56.598Z",
      "updatedAt": "2025-08-05T11:20:54.804Z"
    },
    {
      "id": "f92f1c2d",
      "timestamp": "2025-08-05T11:12:58.526000+00:00",
      "name": "f92f_tpu_sketch_generator",
      "input": null,
      "output": {
        "status": "failed",
        "last_code": "import numpy as np\nimport cv2\nfrom tflite_runtime.interpreter import Interpreter, load_delegate\n\n# Configuration Parameters\nmodel_path  = \"/home/mendel/tinyml_autopilot/models/edgetpu_detect.tflite\"\nlabel_path  = \"/home/mendel/tinyml_autopilot/models/labelmap.txt\"\ninput_video_path  = \"/home/mendel/tinyml_autopilot/data//sheeps.mp4\"\noutput_video_path  = \"/home/mendel/tinyml_autopilot/results/sheeps_detections.mp4\"\n\n# Load Labels\nwith open(label_path, 'r') as f:\n   labels = [line.strip() for line in f.readlines()]\n\n# Load Interpreter with EdgeTPU\ntry:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('libedgetpu.so.1.0')])\nexcept:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('/usr/lib/aarch64-linux-gnu/libedgetpu.so.1.0')])\n\ninterpreter.allocate_tensors()\n\n# Get Model Details\ninput_details = interpreter.get_input_details()\noutput_details = interpreter.get_output_details()\ninput_shape = input_details[0]['shape']\ninput_data_type = input_details[0]['dtype']\n\n# Video Setup\ncap = cv2.VideoCapture(input_video_path)\nif not cap.isOpened():\n   print(\"Error opening video file\")\n   exit()\n\nframe_width = int(cap.get(3))\nframe_height = int(cap.get(4))\nfourcc = cv2.VideoWriter_fourcc(*'mp4v')\nout = cv2.VideoWriter(output_video_path, fourcc, 20.0, (frame_width, frame_height))\n\n# Inference Loop\nwhile True:\n   ret, frame = cap.read()\n   if not ret:\n       break\n\n   # Preprocessing\n   resized_frame = cv2.resize(frame, (input_shape[1], input_shape[2]))\n   input_data = np.expand_dims(resized_frame, axis=0)\n   if input_data_type == np.float32:\n       input_data = (np.float32(input_data) - 127.5) / 127.5\n\n   # Inference\n   interpreter.set_tensor(input_details[0]['index'], input_data)\n   interpreter.invoke()\n\n   # Post-processing\n   output_data = interpreter.get_tensor(output_details[0]['index'])\n   boxes = output_data[0][0:4]\n   classes = output_data[0][4]\n   scores = output_data[0][5]\n\n   if scores > 0.5:\n       x1 = int(boxes[0] * frame_width)\n       y1 = int(boxes[1] * frame_height)\n       x2 = int(boxes[2] * frame_width)\n       y2 = int(boxes[3] * frame_height)\n       class_id = int(classes)\n       label = labels[class_id]\n       confidence = scores\n       cv2.rectangle(frame, (x1, y1), (x2, y2), (0, 255, 0), 2)\n       cv2.putText(frame, f'{label}: {confidence:.2f}', (x1, y1 - 10), cv2.FONT_HERSHEY_SIMPLEX, 0.9, (0, 255, 0), 2)\n\n   out.write(frame)\n\ncap.release()\nout.release()\ncv2.destroyAllWindows()",
        "last_error": "Traceback (most recent call last):\n  File \"script_9800eadc_1754392602.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()"
      },
      "session_id": "gemma3:27b_b603_tpusg_batch",
      "metadata": {
        "num_run": 21
      },
      "tags": [
        "benchmark",
        "gemma3:27b",
        "tpu_sketch_generator"
      ],
      "latency": 231.854,
      "total_cost": 0.0,
      "observations": [
        {
          "id": "time-14-12-58-527858_chatcmpl-296b507c-6d53-4741-a1c9-c4f7e35389d8",
          "traceId": "f92f1c2d",
          "type": "GENERATION",
          "name": "f92f_tpusg_gen_attempt#1",
          "startTime": "2025-08-05T11:12:58.527000+00:00",
          "endTime": "2025-08-05T11:13:32.318000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 33791.0,
          "completionTokens": 878,
          "environment": "default",
          "promptTokens": 1966,
          "totalTokens": 2844,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-13-40-400142_chatcmpl-66a614a1-cb49-45e2-b9e3-42792a79272c",
          "traceId": "f92f1c2d",
          "type": "GENERATION",
          "name": "f92f_tpusg_gen_attempt#2",
          "startTime": "2025-08-05T11:13:40.400000+00:00",
          "endTime": "2025-08-05T11:14:19.631000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39231.0,
          "completionTokens": 1033,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3081,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-14-27-759265_chatcmpl-de48ce31-7c9c-4a1f-852d-ca59019aa483",
          "traceId": "f92f1c2d",
          "type": "GENERATION",
          "name": "f92f_tpusg_gen_attempt#3",
          "startTime": "2025-08-05T11:14:27.759000+00:00",
          "endTime": "2025-08-05T11:15:07.426000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39667.0,
          "completionTokens": 1043,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3091,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-15-15-646896_chatcmpl-ae2618d1-9faa-49a3-ae01-b2d4a33feda2",
          "traceId": "f92f1c2d",
          "type": "GENERATION",
          "name": "f92f_tpusg_gen_attempt#4",
          "startTime": "2025-08-05T11:15:15.646000+00:00",
          "endTime": "2025-08-05T11:15:54.877000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39231.0,
          "completionTokens": 1028,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3076,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-16-03-092200_chatcmpl-c658c7c7-6f3a-4e42-91cb-fed78a11acd9",
          "traceId": "f92f1c2d",
          "type": "GENERATION",
          "name": "f92f_tpusg_gen_attempt#5",
          "startTime": "2025-08-05T11:16:03.092000+00:00",
          "endTime": "2025-08-05T11:16:42.222000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39130.0,
          "completionTokens": 1027,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3075,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "419a900c-752b-4761-bf1a-a464b3e62e5e",
          "traceId": "f92f1c2d",
          "type": "SPAN",
          "name": "error_f9_tpusg_failure_signal_tpu_sketch_generator",
          "startTime": "2025-08-05T11:16:50.381000+00:00",
          "level": "ERROR",
          "statusMessage": "Failed. Last error: Traceback (most recent call last):\n  File \"script_9800eadc_1754392602.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()",
          "calculatedTotalCost": 0.0,
          "completionTokens": 0,
          "environment": "default",
          "promptTokens": 0,
          "totalTokens": 0,
          "costDetails": {},
          "endTime": null,
          "model": null,
          "modelParameters": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null,
          "latency": null
        }
      ],
      "environment": "default",
      "createdAt": "2025-08-05T11:12:59.045Z",
      "updatedAt": "2025-08-05T11:16:55.798Z"
    },
    {
      "id": "2a6ca472",
      "timestamp": "2025-08-05T11:08:58.876000+00:00",
      "name": "2a6c_tpu_sketch_generator",
      "input": null,
      "output": {
        "status": "failed",
        "last_code": "import numpy as np\nimport cv2\nfrom tflite_runtime.interpreter import Interpreter, load_delegate\n\n# Configuration Parameters\nmodel_path  = \"/home/mendel/tinyml_autopilot/models/edgetpu_detect.tflite\"\nlabel_path  = \"/home/mendel/tinyml_autopilot/models/labelmap.txt\"\ninput_video_path  = \"/home/mendel/tinyml_autopilot/data//sheeps.mp4\"\noutput_video_path  = \"/home/mendel/tinyml_autopilot/results/sheeps_detections.mp4\"\n\n# Load Labels\nwith open(label_path, 'r') as f:\n   labels = [line.strip() for line in f.readlines()]\n\n# Load Interpreter with EdgeTPU\ntry:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('libedgetpu.so.1.0')])\nexcept:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('/usr/lib/aarch64-linux-gnu/libedgetpu.so.1.0')])\n\ninterpreter.allocate_tensors()\n\n# Get Model Details\ninput_details = interpreter.get_input_details()\noutput_details = interpreter.get_output_details()\ninput_shape = input_details[0]['shape']\ninput_data_type = input_details[0]['dtype']\n\n# Video Setup\ncap = cv2.VideoCapture(input_video_path)\nif not cap.isOpened():\n   print(\"Error opening video file\")\n   exit()\n\nframe_width = int(cap.get(3))\nframe_height = int(cap.get(4))\nfourcc = cv2.VideoWriter_fourcc(*'mp4v')\nout = cv2.VideoWriter(output_video_path, fourcc, 20.0, (frame_width, frame_height))\n\n# Inference Loop\nwhile True:\n   ret, frame = cap.read()\n   if not ret:\n       break\n\n   # Preprocessing\n   resized_frame = cv2.resize(frame, (input_shape[1], input_shape[2]))\n   input_data = np.expand_dims(resized_frame, axis=0)\n   if input_data_type == np.float32:\n       input_data = (np.float32(input_data) - 127.5) / 127.5\n\n   # Inference\n   interpreter.set_tensor(input_details[0]['index'], input_data)\n   interpreter.invoke()\n\n   # Post-processing\n   output_data = interpreter.get_tensor(output_details[0]['index'])\n   boxes = output_data[0][0:4]\n   classes = output_data[0][4]\n   scores = output_data[0][5]\n\n   if scores > 0.5:\n       x1 = int(boxes[0] * frame_width)\n       y1 = int(boxes[1] * frame_height)\n       x2 = int(boxes[2] * frame_width)\n       y2 = int(boxes[3] * frame_height)\n       class_id = int(classes)\n       label = labels[class_id]\n       confidence = scores\n       cv2.rectangle(frame, (x1, y1), (x2, y2), (0, 255, 0), 2)\n       cv2.putText(frame, f'{label}: {confidence:.2f}', (x1, y1 - 10), cv2.FONT_HERSHEY_SIMPLEX, 0.9, (0, 255, 0), 2)\n\n   out.write(frame)\n\ncap.release()\nout.release()\ncv2.destroyAllWindows()",
        "last_error": "Traceback (most recent call last):\n  File \"script_744b6451_1754392364.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()"
      },
      "session_id": "gemma3:27b_b603_tpusg_batch",
      "metadata": {
        "num_run": 20
      },
      "tags": [
        "benchmark",
        "gemma3:27b",
        "tpu_sketch_generator"
      ],
      "latency": 233.398,
      "total_cost": 0.0,
      "observations": [
        {
          "id": "time-14-08-58-878151_chatcmpl-dde2084a-e483-45e0-90b3-7dbad0a0d077",
          "traceId": "2a6ca472",
          "type": "GENERATION",
          "name": "2a6c_tpusg_gen_attempt#1",
          "startTime": "2025-08-05T11:08:58.878000+00:00",
          "endTime": "2025-08-05T11:09:32.765000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 33887.0,
          "completionTokens": 878,
          "environment": "default",
          "promptTokens": 1966,
          "totalTokens": 2844,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-09-40-836145_chatcmpl-51e3a2a8-7b96-4933-a603-23f49b44f8cb",
          "traceId": "2a6ca472",
          "type": "GENERATION",
          "name": "2a6c_tpusg_gen_attempt#2",
          "startTime": "2025-08-05T11:09:40.836000+00:00",
          "endTime": "2025-08-05T11:10:21.820000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 40984.0,
          "completionTokens": 1082,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3130,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-10-29-921376_chatcmpl-8d4238de-57cd-4ffe-898a-fe47fe79d844",
          "traceId": "2a6ca472",
          "type": "GENERATION",
          "name": "2a6c_tpusg_gen_attempt#3",
          "startTime": "2025-08-05T11:10:29.921000+00:00",
          "endTime": "2025-08-05T11:11:08.968000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39047.0,
          "completionTokens": 1025,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3073,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-11-17-289566_chatcmpl-5b76fe97-6829-41ea-9043-a6435c9e8f59",
          "traceId": "2a6ca472",
          "type": "GENERATION",
          "name": "2a6c_tpusg_gen_attempt#4",
          "startTime": "2025-08-05T11:11:17.289000+00:00",
          "endTime": "2025-08-05T11:11:56.681000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39392.0,
          "completionTokens": 1038,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3086,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-12-04-990998_chatcmpl-95c0cfd8-3c8f-4679-b1c1-78ea3d71b5a6",
          "traceId": "2a6ca472",
          "type": "GENERATION",
          "name": "2a6c_tpusg_gen_attempt#5",
          "startTime": "2025-08-05T11:12:04.990000+00:00",
          "endTime": "2025-08-05T11:12:44.032000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39042.0,
          "completionTokens": 1027,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3075,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "cc57480a-249b-456d-a233-0440d416677f",
          "traceId": "2a6ca472",
          "type": "SPAN",
          "name": "error_2a_tpusg_failure_signal_tpu_sketch_generator",
          "startTime": "2025-08-05T11:12:52.276000+00:00",
          "level": "ERROR",
          "statusMessage": "Failed. Last error: Traceback (most recent call last):\n  File \"script_744b6451_1754392364.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()",
          "calculatedTotalCost": 0.0,
          "completionTokens": 0,
          "environment": "default",
          "promptTokens": 0,
          "totalTokens": 0,
          "costDetails": {},
          "endTime": null,
          "model": null,
          "modelParameters": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null,
          "latency": null
        }
      ],
      "environment": "default",
      "createdAt": "2025-08-05T11:08:59.396Z",
      "updatedAt": "2025-08-05T11:12:57.692Z"
    },
    {
      "id": "94b009f1",
      "timestamp": "2025-08-05T11:04:59.119000+00:00",
      "name": "94b0_tpu_sketch_generator",
      "input": null,
      "output": {
        "status": "failed",
        "last_code": "import numpy as np\nimport cv2\nfrom tflite_runtime.interpreter import Interpreter, load_delegate\n\n# Configuration Parameters\nmodel_path  = \"/home/mendel/tinyml_autopilot/models/edgetpu_detect.tflite\"\nlabel_path  = \"/home/mendel/tinyml_autopilot/models/labelmap.txt\"\ninput_video_path  = \"/home/mendel/tinyml_autopilot/data//sheeps.mp4\"\noutput_video_path  = \"/home/mendel/tinyml_autopilot/results/sheeps_detections.mp4\"\n\n# Load Labels\nwith open(label_path, 'r') as f:\n   labels = [line.strip() for line in f.readlines()]\n\n# Load Interpreter with EdgeTPU\ntry:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('libedgetpu.so.1.0')])\nexcept:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('/usr/lib/aarch64-linux-gnu/libedgetpu.so.1.0')])\n\ninterpreter.allocate_tensors()\n\n# Get Model Details\ninput_details = interpreter.get_input_details()\noutput_details = interpreter.get_output_details()\ninput_shape = input_details[0]['shape']\ninput_data_type = input_details[0]['dtype']\n\n# Video Setup\ncap = cv2.VideoCapture(input_video_path)\nif not cap.isOpened():\n   print(\"Error opening video file\")\n   exit()\n\nframe_width = int(cap.get(3))\nframe_height = int(cap.get(4))\nfourcc = cv2.VideoWriter_fourcc(*'mp4v')\nout = cv2.VideoWriter(output_video_path, fourcc, 20.0, (frame_width, frame_height))\n\n# Inference Loop\nwhile True:\n   ret, frame = cap.read()\n   if not ret:\n       break\n\n   # Preprocessing\n   resized_frame = cv2.resize(frame, (input_shape[1], input_shape[2]))\n   input_data = np.expand_dims(resized_frame, axis=0)\n   if input_data_type == np.float32:\n       input_data = (np.float32(input_data) - 127.5) / 127.5\n\n   # Inference\n   interpreter.set_tensor(input_details[0]['index'], input_data)\n   interpreter.invoke()\n\n   # Post-processing\n   output_data = interpreter.get_tensor(output_details[0]['index'])\n   boxes = output_data[0][0:4]\n   classes = output_data[0][4]\n   scores = output_data[0][5]\n\n   if scores > 0.5:\n       x1 = int(boxes[0] * frame_width)\n       y1 = int(boxes[1] * frame_height)\n       x2 = int(boxes[2] * frame_width)\n       y2 = int(boxes[3] * frame_height)\n       class_id = int(classes)\n       label = labels[class_id]\n       confidence = scores\n       cv2.rectangle(frame, (x1, y1), (x2, y2), (0, 255, 0), 2)\n       cv2.putText(frame, f'{label}: {confidence:.2f}', (x1, y1 - 10), cv2.FONT_HERSHEY_SIMPLEX, 0.9, (0, 255, 0), 2)\n\n   out.write(frame)\n\ncap.release()\nout.release()\ncv2.destroyAllWindows()",
        "last_error": "Traceback (most recent call last):\n  File \"script_544ce263_1754392124.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()"
      },
      "session_id": "gemma3:27b_b603_tpusg_batch",
      "metadata": {
        "num_run": 19
      },
      "tags": [
        "benchmark",
        "gemma3:27b",
        "tpu_sketch_generator"
      ],
      "latency": 233.851,
      "total_cost": 0.0,
      "observations": [
        {
          "id": "time-14-04-59-120940_chatcmpl-0ad19d6a-65de-45a9-856b-76abd27357a8",
          "traceId": "94b009f1",
          "type": "GENERATION",
          "name": "94b0_tpusg_gen_attempt#1",
          "startTime": "2025-08-05T11:04:59.120000+00:00",
          "endTime": "2025-08-05T11:05:32.927000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 33807.0,
          "completionTokens": 878,
          "environment": "default",
          "promptTokens": 1966,
          "totalTokens": 2844,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-05-41-028334_chatcmpl-f1ff47c3-231b-45ee-ade0-0882d047551a",
          "traceId": "94b009f1",
          "type": "GENERATION",
          "name": "94b0_tpusg_gen_attempt#2",
          "startTime": "2025-08-05T11:05:41.028000+00:00",
          "endTime": "2025-08-05T11:06:21.934000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 40906.0,
          "completionTokens": 1082,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3130,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-06-30-056752_chatcmpl-80839354-1ef5-4d7f-8d2c-f494a1ac9193",
          "traceId": "94b009f1",
          "type": "GENERATION",
          "name": "94b0_tpusg_gen_attempt#3",
          "startTime": "2025-08-05T11:06:30.056000+00:00",
          "endTime": "2025-08-05T11:07:09.069000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39013.0,
          "completionTokens": 1030,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3078,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-07-17-270120_chatcmpl-28f30df1-1e86-4d53-8890-f044b4766715",
          "traceId": "94b009f1",
          "type": "GENERATION",
          "name": "94b0_tpusg_gen_attempt#4",
          "startTime": "2025-08-05T11:07:17.270000+00:00",
          "endTime": "2025-08-05T11:07:57.529000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 40259.0,
          "completionTokens": 1060,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3108,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-08-05-625021_chatcmpl-448656cd-bd18-4588-aac0-bab364b8ac42",
          "traceId": "94b009f1",
          "type": "GENERATION",
          "name": "94b0_tpusg_gen_attempt#5",
          "startTime": "2025-08-05T11:08:05.625000+00:00",
          "endTime": "2025-08-05T11:08:44.785000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39160.0,
          "completionTokens": 1027,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3075,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "d32f1470-7357-43d5-8aa6-805a4739d96c",
          "traceId": "94b009f1",
          "type": "SPAN",
          "name": "error_94_tpusg_failure_signal_tpu_sketch_generator",
          "startTime": "2025-08-05T11:08:52.971000+00:00",
          "level": "ERROR",
          "statusMessage": "Failed. Last error: Traceback (most recent call last):\n  File \"script_544ce263_1754392124.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()",
          "calculatedTotalCost": 0.0,
          "completionTokens": 0,
          "environment": "default",
          "promptTokens": 0,
          "totalTokens": 0,
          "costDetails": {},
          "endTime": null,
          "model": null,
          "modelParameters": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null,
          "latency": null
        }
      ],
      "environment": "default",
      "createdAt": "2025-08-05T11:04:59.639Z",
      "updatedAt": "2025-08-05T11:08:58.391Z"
    },
    {
      "id": "aea75d1a",
      "timestamp": "2025-08-05T11:00:40.462000+00:00",
      "name": "aea7_tpu_sketch_generator",
      "input": null,
      "output": {
        "status": "failed",
        "last_code": "import numpy as np\nimport cv2\nfrom tflite_runtime.interpreter import Interpreter, load_delegate\n\n# Configuration Parameters\nmodel_path  = \"/home/mendel/tinyml_autopilot/models/edgetpu_detect.tflite\"\nlabel_path  = \"/home/mendel/tinyml_autopilot/models/labelmap.txt\"\ninput_video_path  = \"/home/mendel/tinyml_autopilot/data//sheeps.mp4\"\noutput_video_path  = \"/home/mendel/tinyml_autopilot/results/sheeps_detections.mp4\"\n\n# Load Labels\nwith open(label_path, 'r') as f:\n   labels = [line.strip() for line in f.readlines()]\n\n# Load Interpreter with EdgeTPU\ntry:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('libedgetpu.so.1.0')])\nexcept:\n   interpreter = Interpreter(model_path=model_path,\n                             experimental_delegates=[load_delegate('/usr/lib/aarch64-linux-gnu/libedgetpu.so.1.0')])\n\ninterpreter.allocate_tensors()\n\n# Get Model Details\ninput_details = interpreter.get_input_details()\noutput_details = interpreter.get_output_details()\ninput_shape = input_details[0]['shape']\ninput_data_type = input_details[0]['dtype']\n\n# Video Setup\ncap = cv2.VideoCapture(input_video_path)\nif not cap.isOpened():\n   print(\"Error opening video file\")\n   exit()\n\nframe_width = int(cap.get(3))\nframe_height = int(cap.get(4))\nfourcc = cv2.VideoWriter_fourcc(*'mp4v')\nout = cv2.VideoWriter(output_video_path, fourcc, 20.0, (frame_width, frame_height))\n\n# Inference Loop\nwhile True:\n   ret, frame = cap.read()\n   if not ret:\n       break\n\n   # Preprocessing\n   resized_frame = cv2.resize(frame, (input_shape[1], input_shape[2]))\n   input_data = np.expand_dims(resized_frame, axis=0)\n   if input_data_type == np.float32:\n       input_data = (np.float32(input_data) - 127.5) / 127.5\n\n   # Inference\n   interpreter.set_tensor(input_details[0]['index'], input_data)\n   interpreter.invoke()\n\n   # Post-processing\n   output_data = interpreter.get_tensor(output_details[0]['index'])\n   boxes = output_data[0][0:4]\n   classes = output_data[0][4]\n   scores = output_data[0][5]\n\n   if scores > 0.5:\n       x1 = int(boxes[0] * frame_width)\n       y1 = int(boxes[1] * frame_height)\n       x2 = int(boxes[2] * frame_width)\n       y2 = int(boxes[3] * frame_height)\n       class_id = int(classes)\n       label = labels[class_id]\n       confidence = scores\n       cv2.rectangle(frame, (x1, y1), (x2, y2), (0, 255, 0), 2)\n       cv2.putText(frame, f'{label}: {confidence:.2f}', (x1, y1 - 10), cv2.FONT_HERSHEY_SIMPLEX, 0.9, (0, 255, 0), 2)\n\n   out.write(frame)\n\ncap.release()\nout.release()\ncv2.destroyAllWindows()",
        "last_error": "Traceback (most recent call last):\n  File \"script_57e951d8_1754391884.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()"
      },
      "session_id": "gemma3:27b_b603_tpusg_batch",
      "metadata": {
        "num_run": 18
      },
      "tags": [
        "benchmark",
        "gemma3:27b",
        "tpu_sketch_generator"
      ],
      "latency": 252.152,
      "total_cost": 0.0,
      "observations": [
        {
          "id": "time-14-00-40-464232_chatcmpl-bf6f9323-78b4-4418-998f-c19c9f0c0f22",
          "traceId": "aea75d1a",
          "type": "GENERATION",
          "name": "aea7_tpusg_gen_attempt#1",
          "startTime": "2025-08-05T11:00:40.464000+00:00",
          "endTime": "2025-08-05T11:01:30.984000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 50520.0,
          "completionTokens": 878,
          "environment": "default",
          "promptTokens": 1966,
          "totalTokens": 2844,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-01-39-456664_chatcmpl-4fd4af74-19e3-4331-a311-fd103fd24c0d",
          "traceId": "aea75d1a",
          "type": "GENERATION",
          "name": "aea7_tpusg_gen_attempt#2",
          "startTime": "2025-08-05T11:01:39.456000+00:00",
          "endTime": "2025-08-05T11:02:20.315000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 40859.0,
          "completionTokens": 1082,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3130,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-02-28-531875_chatcmpl-3c6150a8-1039-4d11-9a54-c5707e58d3f9",
          "traceId": "aea75d1a",
          "type": "GENERATION",
          "name": "aea7_tpusg_gen_attempt#3",
          "startTime": "2025-08-05T11:02:28.531000+00:00",
          "endTime": "2025-08-05T11:03:08.121000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39590.0,
          "completionTokens": 1043,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3091,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-03-16-381604_chatcmpl-35f86a64-c219-4c04-8c92-d4816a5f67bf",
          "traceId": "aea75d1a",
          "type": "GENERATION",
          "name": "aea7_tpusg_gen_attempt#4",
          "startTime": "2025-08-05T11:03:16.381000+00:00",
          "endTime": "2025-08-05T11:03:56.490000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 40109.0,
          "completionTokens": 1060,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3108,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "time-14-04-04-599924_chatcmpl-0325b7fd-8c3b-4a15-a4fd-b42cef5496f0",
          "traceId": "aea75d1a",
          "type": "GENERATION",
          "name": "aea7_tpusg_gen_attempt#5",
          "startTime": "2025-08-05T11:04:04.599000+00:00",
          "endTime": "2025-08-05T11:04:44.499000+00:00",
          "model": "gemma3:27b",
          "modelParameters": {
            "temperature": "0.1",
            "top_p": "0.3"
          },
          "level": "DEFAULT",
          "calculatedTotalCost": 0.0,
          "latency": 39900.0,
          "completionTokens": 1054,
          "environment": "default",
          "promptTokens": 2048,
          "totalTokens": 3102,
          "costDetails": {},
          "statusMessage": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null
        },
        {
          "id": "edcfe31f-633e-473c-a54d-de2d226a47a0",
          "traceId": "aea75d1a",
          "type": "SPAN",
          "name": "error_ae_tpusg_failure_signal_tpu_sketch_generator",
          "startTime": "2025-08-05T11:04:52.616000+00:00",
          "level": "ERROR",
          "statusMessage": "Failed. Last error: Traceback (most recent call last):\n  File \"script_57e951d8_1754391884.py\", line 64, in <module>\n    if scores > 0.5:\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()",
          "calculatedTotalCost": 0.0,
          "completionTokens": 0,
          "environment": "default",
          "promptTokens": 0,
          "totalTokens": 0,
          "costDetails": {},
          "endTime": null,
          "model": null,
          "modelParameters": null,
          "calculatedInputCost": null,
          "calculatedOutputCost": null,
          "latency": null
        }
      ],
      "environment": "default",
      "createdAt": "2025-08-05T11:00:40.980Z",
      "updatedAt": "2025-08-05T11:04:58.278Z"
    }
  ],
  "meta": {
    "total_items": 13
  }
}